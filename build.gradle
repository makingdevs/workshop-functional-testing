import org.apache.tools.ant.taskdefs.condition.Os

plugins {
  id "groovy"
  id 'com.patdouble.cucumber-jvm' version '0.19'
}

ext {
  groovyVersion = '3.0.8'
  gebVersion = '4.1'
  htmlUnitVersion = '2.52.0'
  seleniumVersion = '3.141.59'
  cucumberJvmVersion = '6.10.4'
  chromeDriverVersion = '2.37'
  firefoxDriverVersion = '0.20.0'
}

// apply from: "osSpecificDownloads.gradle"

addCucumberSuite 'cucumberTest'

cucumber {
  maxParallelForks = 3
  junitReport = true
}

cucumberTest {
  stepDefinitionRoots = ['cucumber.steps', 'cucumber.hooks'] // default
  junitReport = true
}

repositories {
  mavenCentral()
  jcenter()
}

sourceCompatibility = 11
targetCompatibility = 11

dependencies {
  implementation "org.codehaus.groovy:groovy-all:$groovyVersion"
  testImplementation "io.cucumber:cucumber-core:$cucumberJvmVersion"
  testImplementation "io.cucumber:cucumber-jvm-groovy:$cucumberJvmVersion"
  testImplementation "io.cucumber:cucumber-junit:$cucumberJvmVersion"
  testImplementation "org.gebish:geb-core:$gebVersion"
  testImplementation "org.seleniumhq.selenium:selenium-htmlunit-driver:$htmlUnitVersion"
  testImplementation "org.seleniumhq.selenium:selenium-firefox-driver:$seleniumVersion"
  testImplementation "org.seleniumhq.selenium:selenium-chrome-driver:$seleniumVersion"
  testImplementation "org.seleniumhq.selenium:selenium-support:$seleniumVersion"

  cucumberTestImplementation "io.cucumber:cucumber-java:$cucumberJvmVersion"
  cucumberTestImplementation "junit:junit:4.12"
}

